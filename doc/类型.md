目录

[toc]

2021年4月5

### 一、类型

Go语言将数据类型分为四类:基础类型、复合类型、引用类型和接口类型。

1、基本类型包括数字、字符串和布尔型。

2、复合数据类型包括数组、结构体。

3、引用类型包括指针、切片、字典、函数、通道。

4、接口类型具体描述了一系列方法的集合，一个实现了这些方法的具体类型是这个接口类型的实例。例如：io.Writer类型是用得最广泛的接口之一，因为它提供了所有类型的写入bytes的抽象，包括文件类 型，内存缓冲区，网络链接，HTTP客户端，压缩工具，哈希等等。

### 二、基础类型

#### 1、整型

- 有符号和无符号类型
  - int8、int16、int32和int64有符号整数类型，分别对应8、16、32、64bit大小的有符号整数
  - uint8、uint16、uint32和uint64四种无符号整数类型。

- int和uint；这两种类型都有同样的大小，32或64bit，在32位机器上说32bit，64位机器上时64bit。

- Unicode字符rune类型是和int32等价的类型，通常用于表示一个Unicode码点。

- byte也是uint8类型的等价类型。

无符号的整数类型uintptr，没有指定具体的bit大小但是足以容纳指针。uintptr 类型只有在底层编程时才需要，特别是Go语言和C语言函数库或操作系统接口相交互的地方。

计算：一个(n)bit的有符号数的值域是从 -2^{n-1}~2^{n-1}-1。无符号整数的所有bit位都用于表示非负数，值域是0~2^n-1。例如，int8类型整数的值域是从-128到127，而uint8类型整数的值域是从0到255。

#### 2、浮点数

两种精度的浮点数，float32和float64。

float32类型的浮点数可以提供大约6个十进制数的精度，而float64则可以提供约15个十进制数的精度

通常应该优先使用float64类型，因为float32的有效bit位只有23个，其它的bit 位用于指数和符号;当整数大于23bit能表达的范围时，float32的表示将出现误差

#### 3、复数

Go语言提供了两种精度的复数类型:complex64和complex128，分别对应float32和float64两 种浮点数精度。内置的complex函数用于构建复数，内建的real和imag函数分别返回复数的实部和 虚部:

### 三、复合数据类型

复合数据类型包括：数组、slice、map和结构体

#### 2、map

创建方式

```go
ages := make(map[string]int)
```

```go
ages := map[string]int{
    "alice":   31,
    "charlie": 34,
}
```

相当于

```go
ages := make(map[string]int)
ages["alice"] = 31
ages["charlie"] = 34
```

使用内置的delete函数可以删除元素:

```go
delete(ages, "alice")  // remove element ages["alice"]
```

所有这些操作是安全的

map中的元素并不是一个变量，因此我们不能对map的元素进行取址操作:

```go
_ = &ages["bob"] // compile error: cannot take address of map element
```

禁止对map元素取址的原因是map可能随着元素数量的增长而重新分配更大的内存空间，从而可能导致 之前的地址无效。

#### 3、结构体



### 四、字符串和数字的转换

除了字符串、字符、字节之间的转换，字符串和数值之间的转换也比较常见。由strconv包提供这类转换功能。

* 整数转换为字符串
  * fmt.Sprintf返回一个格式化的字符串
  * strconv.Itoa(“整数到ASCII”)
* 字符串解析为整数可以使用strconv包的Atoi或ParseInt函数
  * strconv.Atoi("123")
  * strconv.ParseInt("123", 10, 64)